# ğŸ”§ æ•…éšœæ’é™¤æŒ‡å—

## é—®é¢˜ï¼šæ— æ³•è®¿é—® http://localhost:4000/health

### å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆ

#### 1. åç«¯æœåŠ¡æœªå¯åŠ¨

**è§£å†³æ–¹æ³•ï¼š**
```bash
cd backend
npm run dev
```

æˆ–åŒå‡»è¿è¡Œ `æ£€æŸ¥å¹¶å¯åŠ¨.bat`

#### 2. ç«¯å£è¢«å ç”¨

**æ£€æŸ¥ç«¯å£å ç”¨ï¼š**
```bash
# Windows
netstat -ano | findstr :4000

# å¦‚æœè¢«å ç”¨ï¼Œå¯ä»¥ä¿®æ”¹ .env æ–‡ä»¶ä¸­çš„ PORT=4001
```

#### 3. ä¾èµ–æœªå®‰è£…

**è§£å†³æ–¹æ³•ï¼š**
```bash
cd backend
npm install
```

#### 4. .env æ–‡ä»¶ä¸å­˜åœ¨

**è§£å†³æ–¹æ³•ï¼š**
åœ¨ `backend` ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼Œå†…å®¹ï¼š
```env
PORT=4000
NODE_ENV=development
DATABASE_URL="postgresql://feihub:feihub_password@localhost:5432/feihub?schema=public"
REDIS_URL="redis://localhost:6379"
DEEPSEEK_API_KEY=sk-dff2ea5fca7c4829a3c840b2d597ebbb
OPENAI_API_KEY=
CORS_ORIGIN=http://localhost:5173
```

#### 5. Docker æœªå¯åŠ¨ï¼ˆæ•°æ®åº“å’Œ Redisï¼‰

**è§£å†³æ–¹æ³•ï¼š**
```bash
# å¯åŠ¨ Docker Desktopï¼Œç„¶åæ‰§è¡Œï¼š
cd backend
docker-compose up -d

# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker ps
```

#### 6. æ•°æ®åº“è¿æ¥å¤±è´¥

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. ç¡®è®¤ Docker å®¹å™¨è¿è¡Œä¸­ï¼š`docker ps`
2. æ£€æŸ¥æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²æ˜¯å¦æ­£ç¡®
3. å°è¯•é‡å¯å®¹å™¨ï¼š`docker-compose restart`

## å¿«é€Ÿè¯Šæ–­å‘½ä»¤

```bash
# 1. æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼ˆéœ€è¦ 18+ï¼‰
node -v

# 2. æ£€æŸ¥ npm ç‰ˆæœ¬
npm -v

# 3. æ£€æŸ¥ Docker
docker --version
docker ps

# 4. æ£€æŸ¥åç«¯ç›®å½•
cd backend
dir

# 5. æ£€æŸ¥ .env æ–‡ä»¶
type .env

# 6. æ£€æŸ¥ä¾èµ–
dir node_modules

# 7. å°è¯•å¯åŠ¨
npm run dev
```

## å¸¸è§é”™è¯¯ä¿¡æ¯

### "Cannot find module"
**è§£å†³ï¼š** è¿è¡Œ `npm install`

### "ECONNREFUSED" (æ•°æ®åº“è¿æ¥)
**è§£å†³ï¼š** ç¡®ä¿ Docker å®¹å™¨è¿è¡Œï¼š`docker-compose up -d`

### "Port 4000 is already in use"
**è§£å†³ï¼š** ä¿®æ”¹ `.env` ä¸­çš„ `PORT=4001` æˆ–å…³é—­å ç”¨ç«¯å£çš„ç¨‹åº

### "Prisma Client not generated"
**è§£å†³ï¼š** è¿è¡Œ `npm run db:generate`

## å®Œæ•´é‡ç½®æ­¥éª¤

å¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œï¼Œå°è¯•å®Œå…¨é‡ç½®ï¼š

```bash
cd backend

# 1. åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# 2. åˆ é™¤ node_modules
rmdir /s /q node_modules

# 3. é‡æ–°å®‰è£…
npm install

# 4. é‡æ–°ç”Ÿæˆ Prisma
npm run db:generate

# 5. å¯åŠ¨ Docker
docker-compose up -d

# 6. è¿è¡Œè¿ç§»
npm run db:migrate

# 7. å¯åŠ¨æœåŠ¡
npm run dev
```

## è·å–å¸®åŠ©

å¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼Œè¯·æä¾›ï¼š
1. é”™è¯¯ä¿¡æ¯æˆªå›¾
2. `npm run dev` çš„å®Œæ•´è¾“å‡º
3. `docker ps` çš„è¾“å‡º
4. `.env` æ–‡ä»¶å†…å®¹ï¼ˆéšè— API Keyï¼‰



