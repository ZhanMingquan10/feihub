# 修复正文显示10行 - 简单方法

## 📝 需要修改的代码

找到这一行（大约第380行）：
```tsx
<p className={clsx("mt-4 text-sm leading-relaxed whitespace-pre-wrap", isDarkMode ? "text-gray-300" : "text-gray-600")}>
  {doc.preview && doc.preview.length > 500 ? `${doc.preview.slice(0, 500)}...` : (doc.preview || "暂无预览")}
</p>
```

修改为：
```tsx
<p className={clsx("mt-4 text-sm leading-relaxed whitespace-pre-wrap overflow-hidden", isDarkMode ? "text-gray-300" : "text-gray-600")} style={{ display: '-webkit-box', WebkitLineClamp: 10, WebkitBoxOrient: 'vertical' }}>
  {doc.preview || "暂无预览"}
</p>
```

## 🚀 方法一：使用 sed 命令（推荐）

在服务器上执行：

```bash
cd /www/wwwroot/feihub

# 备份原文件
cp src/App.tsx src/App.tsx.bak

# 使用 sed 替换（需要精确匹配）
sed -i 's/<p className={clsx("mt-4 text-sm leading-relaxed whitespace-pre-wrap", isDarkMode ? "text-gray-300" : "text-gray-600")}>/<p className={clsx("mt-4 text-sm leading-relaxed whitespace-pre-wrap overflow-hidden", isDarkMode ? "text-gray-300" : "text-gray-600")} style={{ display: '\''-webkit-box'\'', WebkitLineClamp: 10, WebkitBoxOrient: '\''vertical'\'' }}>/' src/App.tsx

# 替换内容部分
sed -i 's/{doc.preview && doc.preview.length > 500 ? `${doc.preview.slice(0, 500)}...` : (doc.preview || "暂无预览")}/{doc.preview || "暂无预览"}/' src/App.tsx
```

## 🚀 方法二：使用 nano 手动编辑（更可靠）

```bash
cd /www/wwwroot/feihub

# 备份原文件
cp src/App.tsx src/App.tsx.bak

# 打开编辑器
nano src/App.tsx
```

然后：
1. 按 `Ctrl + W` 搜索：`doc.preview && doc.preview.length > 500`
2. 找到这一行：
   ```tsx
   <p className={clsx("mt-4 text-sm leading-relaxed whitespace-pre-wrap", isDarkMode ? "text-gray-300" : "text-gray-600")}>
   ```
3. 修改为：
   ```tsx
   <p className={clsx("mt-4 text-sm leading-relaxed whitespace-pre-wrap overflow-hidden", isDarkMode ? "text-gray-300" : "text-gray-600")} style={{ display: '-webkit-box', WebkitLineClamp: 10, WebkitBoxOrient: 'vertical' }}>
   ```
4. 找到内容部分：
   ```tsx
   {doc.preview && doc.preview.length > 500 ? `${doc.preview.slice(0, 500)}...` : (doc.preview || "暂无预览")}
   ```
5. 修改为：
   ```tsx
   {doc.preview || "暂无预览"}
   ```
6. 按 `Ctrl + O` 保存，按 `Enter` 确认，按 `Ctrl + X` 退出

## ✅ 修改后验证和构建

```bash
# 验证修改
grep -n "WebkitLineClamp" src/App.tsx

# 应该看到类似这样的输出：
# 380:              <p className={clsx("mt-4 text-sm leading-relaxed whitespace-pre-wrap overflow-hidden", isDarkMode ? "text-gray-300" : "text-gray-600")} style={{ display: '-webkit-box', WebkitLineClamp: 10, WebkitBoxOrient: 'vertical' }}>

# 重新构建
npm run build

# 重载 Nginx
nginx -s reload
```

## 🎯 推荐使用方法二（nano），更可靠

---

请先备份文件，然后使用 nano 手动编辑，告诉我结果。

