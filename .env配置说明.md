# .env æ–‡ä»¶é…ç½®è¯´æ˜

## ğŸ“ éœ€è¦å¡«å†™çš„å­—æ®µ

åœ¨ `/www/wwwroot/feihub/backend/.env` æ–‡ä»¶ä¸­ï¼Œ**åªæœ‰ä»¥ä¸‹ 2 ä¸ªå­—æ®µéœ€è¦ä½ å¡«å†™æ›¿æ¢**ï¼š

### 1. æ•°æ®åº“å¯†ç 
```env
DATABASE_URL=postgresql://feihub_user:ä½ çš„æ•°æ®åº“å¯†ç @localhost:5432/feihub?schema=public
```
**æ›¿æ¢**ï¼š`ä½ çš„æ•°æ®åº“å¯†ç ` â†’ ä½ åœ¨å®å¡”é¢æ¿åˆ›å»ºæ•°æ®åº“æ—¶è®¾ç½®çš„å¯†ç 

### 2. DeepSeek API Key
```env
DEEPSEEK_API_KEY=your_deepseek_api_key_here
```
**æ›¿æ¢**ï¼š`your_deepseek_api_key_here` â†’ ä½ çš„ DeepSeek API Key

---

## âœ… å›ºå®šå­—æ®µï¼ˆä¸éœ€è¦ä¿®æ”¹ï¼‰

ä»¥ä¸‹å­—æ®µä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼Œ**ä¸éœ€è¦ä¿®æ”¹**ï¼š

```env
# æœåŠ¡å™¨ç«¯å£ï¼ˆå›ºå®šï¼‰
PORT=4000

# ç¯å¢ƒï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
NODE_ENV=production

# Redis åœ°å€ï¼ˆå¦‚æœ Redis åœ¨æœ¬åœ°ï¼Œä¸éœ€è¦ä¿®æ”¹ï¼‰
REDIS_URL=redis://localhost:6379

# CORS é…ç½®ï¼ˆå¦‚æœåŸŸåæ˜¯ feihub.topï¼Œä¸éœ€è¦ä¿®æ”¹ï¼‰
CORS_ORIGIN=https://feihub.top
```

---

## ğŸ“‹ å®Œæ•´çš„ .env æ–‡ä»¶æ¨¡æ¿

åœ¨ `/www/wwwroot/feihub/backend` ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```env
# Server
PORT=4000
NODE_ENV=production

# Databaseï¼ˆæ›¿æ¢ï¼šä½ çš„æ•°æ®åº“å¯†ç ï¼‰
DATABASE_URL=postgresql://feihub_user:ä½ çš„æ•°æ®åº“å¯†ç @localhost:5432/feihub?schema=public

# Redis
REDIS_URL=redis://localhost:6379

# AI APIï¼ˆæ›¿æ¢ï¼šyour_deepseek_api_key_hereï¼‰
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# CORS
CORS_ORIGIN=https://feihub.top
```

---

## ğŸ” å®é™…ç¤ºä¾‹

å‡è®¾ï¼š
- æ•°æ®åº“å¯†ç æ˜¯ï¼š`MySecurePass123!`
- DeepSeek API Key æ˜¯ï¼š`sk-1234567890abcdef`

é‚£ä¹ˆ `.env` æ–‡ä»¶åº”è¯¥æ˜¯ï¼š

```env
# Server
PORT=4000
NODE_ENV=production

# Database
DATABASE_URL=postgresql://feihub_user:MySecurePass123!@localhost:5432/feihub?schema=public

# Redis
REDIS_URL=redis://localhost:6379

# AI API
DEEPSEEK_API_KEY=sk-1234567890abcdef

# CORS
CORS_ORIGIN=https://feihub.top
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦æœ‰ç©ºæ ¼**ï¼šç­‰å·ä¸¤è¾¹ä¸è¦æœ‰ç©ºæ ¼
2. **å¯†ç ä¸­çš„ç‰¹æ®Šå­—ç¬¦**ï¼šå¦‚æœæ•°æ®åº“å¯†ç åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ `@`, `#`, `$` ç­‰ï¼‰ï¼Œå¯èƒ½éœ€è¦ URL ç¼–ç 
3. **CORS_ORIGIN**ï¼šå¦‚æœä½ çš„åŸŸåä¸æ˜¯ `feihub.top`ï¼Œéœ€è¦ä¿®æ”¹è¿™ä¸ªå€¼
4. **Redis åœ°å€**ï¼šå¦‚æœ Redis ä¸åœ¨æœ¬åœ°æˆ–ç«¯å£ä¸æ˜¯ 6379ï¼Œéœ€è¦ä¿®æ”¹ `REDIS_URL`

---

## ğŸ†˜ å¦‚æœä½¿ç”¨ OpenAI è€Œä¸æ˜¯ DeepSeek

å¦‚æœä½ ä½¿ç”¨ OpenAI APIï¼Œå¯ä»¥è¿™æ ·é…ç½®ï¼š

```env
# æ³¨é‡Šæ‰ DeepSeek
# DEEPSEEK_API_KEY=your_deepseek_api_key_here

# ä½¿ç”¨ OpenAI
OPENAI_API_KEY=your_openai_api_key_here
```

---

## âœ… éªŒè¯é…ç½®

é…ç½®å®Œæˆåï¼Œå¯ä»¥æµ‹è¯•ï¼š

```bash
cd /www/wwwroot/feihub/backend

# æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦åŠ è½½
node -e "require('dotenv').config(); console.log('DATABASE_URL:', process.env.DATABASE_URL ? 'å·²é…ç½®' : 'æœªé…ç½®'); console.log('DEEPSEEK_API_KEY:', process.env.DEEPSEEK_API_KEY ? 'å·²é…ç½®' : 'æœªé…ç½®');"
```

---

## ğŸ“ æ€»ç»“

**åªéœ€è¦æ›¿æ¢ 2 ä¸ªå€¼ï¼š**
1. âœ… æ•°æ®åº“å¯†ç ï¼ˆåœ¨ `DATABASE_URL` ä¸­ï¼‰
2. âœ… DeepSeek API Keyï¼ˆåœ¨ `DEEPSEEK_API_KEY` ä¸­ï¼‰

å…¶ä»–å­—æ®µä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼


