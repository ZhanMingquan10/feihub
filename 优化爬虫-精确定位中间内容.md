# 优化爬虫 - 精确定位中间内容区域

## 🎯 优化目标

根据截图，需要：
1. ✅ 保留：中间主要内容区域
2. ❌ 排除：左上角标题栏（飞书云文档）
3. ❌ 排除：右上角登录按钮
4. ❌ 排除：左侧导航栏（目录）
5. ❌ 排除：右下角按钮（查看全文评论、帮助中心）

## 🚀 优化方案

### 1. 使用精确选择器

优先选择中间内容区域的选择器：
- `.page-main.docx-width-mode` - 主要内容区域
- `.page-main-item.editor` - 编辑器区域
- `.page-block.root-block` - 页面块
- `.page-block-children` - 页面块内容
- `main .app-main.main__content:not(.catalogue__main)` - 主内容区域（排除目录）

### 2. 排除不需要的元素

在提取文本时，排除：
- `aside, nav, .sidebar, .catalogue` - 侧边栏和导航
- `header, .header` - 顶部标题栏
- `button, .button` - 按钮
- `[class*='login']` - 登录按钮
- `[class*='comment']` - 评论相关
- `[class*='help'], [class*='guide']` - 帮助中心
- `[class*='shortcut']` - 快捷键
- `.left-content, .right-content` - 左右侧边栏

## 📝 执行优化

在服务器上执行：

```bash
cd /www/wwwroot/feihub/backend/src/lib

# 先保存当前版本
bash 版本管理系统.sh save "优化前版本"

# 执行优化
bash 优化爬虫-精确定位中间内容.sh
```

---

优化后，爬虫会：
1. 优先选择中间内容区域的选择器
2. 自动排除所有不需要的元素（导航、标题栏、按钮等）
3. 只提取中间的主要内容

