# æŸ¥çœ‹è¯¦ç»†æ—¥æœŸæå–æ—¥å¿—

## ğŸ” æŸ¥çœ‹å®Œæ•´çš„æ—¥æœŸæå–æ—¥å¿—

åœ¨å®å¡”ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¹¶æŠŠ**å®Œæ•´çš„è¾“å‡º**å‘ç»™æˆ‘ï¼š

```bash
cd /www/wwwroot/feihub/backend

# æŸ¥çœ‹æ‰€æœ‰åŒ…å«"çˆ¬å–"çš„æ—¥å¿—ï¼ˆæœ€è¿‘500è¡Œï¼‰
pm2 logs feihub-backend --lines 500 --nostream | grep "çˆ¬å–" | tail -100

# æˆ–è€…æŸ¥çœ‹æ‰€æœ‰è¾“å‡ºæ—¥å¿—ï¼ˆæœ€è¿‘200è¡Œï¼‰
pm2 logs feihub-backend --lines 200 --nostream | tail -100
```

---

## ğŸ“ é‡ç‚¹å…³æ³¨

è¯·æŠŠåŒ…å«ä»¥ä¸‹å…³é”®è¯çš„æ—¥å¿—å‘ç»™æˆ‘ï¼š
- `[çˆ¬å–] å¼€å§‹æå–æ—¥æœŸ`
- `[çˆ¬å–] æ‰¾åˆ° .doc-info-time-item`
- `[çˆ¬å–] ä» cheerio æå–çš„åŸå§‹æ—¥æœŸæ–‡æœ¬`
- `[çˆ¬å–] æå–åˆ°æ—¥æœŸéƒ¨åˆ†`
- `[çˆ¬å–] æœ€ç»ˆæ—¥æœŸ`
- `[çˆ¬å–] è­¦å‘Š: HTTP çŠ¶æ€ç  302`

---

## ğŸ”§ å¦‚æœ cheerio é‡åˆ° 302 é‡å®šå‘

å¦‚æœæ—¥å¿—æ˜¾ç¤º `HTTP çŠ¶æ€ç  302`ï¼Œè¯´æ˜ cheerio æ— æ³•è·å–å®Œæ•´çš„ HTMLã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦å®‰è£… Chrome è®© Puppeteer å·¥ä½œã€‚

å®‰è£… Chromeï¼š
```bash
# å®‰è£… Google Chrome
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
sudo apt-get update
sudo apt-get install -y ./google-chrome-stable_current_amd64.deb

# è®¾ç½®ç¯å¢ƒå˜é‡
cd /www/wwwroot/feihub/backend
echo "CHROME_PATH=/usr/bin/google-chrome-stable" >> .env
cat .env | grep CHROME_PATH

# é‡å¯æœåŠ¡
pm2 restart feihub-backend
```


