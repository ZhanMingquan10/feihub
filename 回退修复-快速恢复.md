# å›é€€ä¿®å¤ - å¿«é€Ÿæ¢å¤

## ğŸš€ æ–¹æ³•ä¸€ï¼šä»å¤‡ä»½æ¢å¤ï¼ˆæ¨èï¼‰

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
cd /www/wwwroot/feihub/backend/src/lib

# æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶
ls -la feishu-puppeteer.ts.bak* | tail -5

# æ¢å¤æœ€æ–°çš„å¤‡ä»½ï¼ˆé€šå¸¸æ˜¯ .bak æˆ– .bak1ï¼‰
cp feishu-puppeteer.ts.bak feishu-puppeteer.ts

# æˆ–è€…æ¢å¤æœ€æ—©çš„å¤‡ä»½
# cp feishu-puppeteer.ts.bak1 feishu-puppeteer.ts

# é‡æ–°æ„å»º
cd /www/wwwroot/feihub/backend
npm run build && pm2 restart feihub-backend && echo "âœ… æ¢å¤å®Œæˆï¼"
```

---

## ğŸš€ æ–¹æ³•äºŒï¼šä» GitHub æ¢å¤

å¦‚æœå¤‡ä»½æ–‡ä»¶ä¸å¯ç”¨ï¼Œä» GitHub æ¢å¤ï¼š

```bash
cd /www/wwwroot/feihub

# æ¢å¤ feishu-puppeteer.ts
git checkout HEAD -- backend/src/lib/feishu-puppeteer.ts

# é‡æ–°æ„å»º
cd backend
npm run build && pm2 restart feihub-backend && echo "âœ… æ¢å¤å®Œæˆï¼"
```

---

## ğŸš€ æ–¹æ³•ä¸‰ï¼šä¸€é”®æ¢å¤ï¼ˆè‡ªåŠ¨é€‰æ‹©ï¼‰

```bash
cd /www/wwwroot/feihub/backend/src/lib && \
BACKUP=$(ls -t feishu-puppeteer.ts.bak* 2>/dev/null | head -1) && \
if [ -z "$BACKUP" ]; then \
    cd /www/wwwroot/feihub && \
    git checkout HEAD -- backend/src/lib/feishu-puppeteer.ts && \
    echo "âœ… å·²ä» Git æ¢å¤"; \
else \
    cp "$BACKUP" feishu-puppeteer.ts && \
    echo "âœ… å·²æ¢å¤å¤‡ä»½: $BACKUP"; \
fi && \
cd /www/wwwroot/feihub/backend && \
npm run build && \
pm2 restart feihub-backend && \
echo "âœ…âœ…âœ… å›é€€å®Œæˆï¼"
```

---

æ¨èä½¿ç”¨æ–¹æ³•ä¸‰ï¼ˆä¸€é”®æ¢å¤ï¼‰ï¼Œä¼šè‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„æ¢å¤æ–¹å¼ã€‚

