# 申请免费 SSL 证书 - Let's Encrypt

## 💡 说明

宝塔面板支持 **Let's Encrypt 免费证书**，而且**会自动续期**，不需要手动配置 certbot。

**注意**：宝塔面板中有两种 SSL 证书：
1. **Let's Encrypt（免费）** - 有效期 3 个月，宝塔自动续期
2. **付费证书** - 需要花钱购买

我们要使用的是 **Let's Encrypt 免费证书**。

---

## 🔐 申请 Let's Encrypt 免费证书

### 步骤 1：打开站点设置

在宝塔面板：
1. 点击左侧 **"网站"**
2. 找到 `feihub.top` 网站
3. 点击右侧 **"设置"** 按钮

---

### 步骤 2：申请 Let's Encrypt 证书

1. 在站点设置页面，点击 **"SSL"** 标签
2. **选择 "Let's Encrypt" 标签**（不是付费证书）
3. 填写信息：
   - **域名**：`feihub.top`（和 `www.feihub.top`，如果支持）
   - **邮箱**：填写你的邮箱（用于证书到期提醒）
4. 点击 **"申请"** 按钮
5. 等待申请完成（可能需要几分钟）

**注意**：
- 确保选择的是 **"Let's Encrypt"** 标签，不是付费证书
- 域名解析必须已生效（你已经确认可以访问了）
- 80 端口必须开放（用于验证）

---

### 步骤 3：启用 HTTPS

1. 申请成功后，点击 **"强制HTTPS"** 按钮
2. 这样所有 HTTP 请求会自动跳转到 HTTPS

---

### 步骤 4：配置自动续期

**宝塔面板会自动续期 Let's Encrypt 证书**，但需要确保：

1. **宝塔面板计划任务**
   - 在宝塔面板，点击左侧 **"计划任务"**
   - 检查是否有 **"续签 Let's Encrypt 证书"** 任务
   - 如果没有，可以手动添加（但通常宝塔会自动创建）

2. **确保宝塔面板服务运行**
   - 宝塔面板会自动在证书到期前续期
   - 不需要手动操作

---

## ✅ 验证证书

申请成功后：

1. **访问**：`https://feihub.top`
2. **应该看到**：
   - 浏览器地址栏显示锁图标（🔒）
   - 网站正常显示
   - 所有 HTTP 请求自动跳转到 HTTPS

---

## 📝 Let's Encrypt 证书说明

- **有效期**：90 天（3 个月）
- **续期**：宝塔面板会自动续期（通常在到期前 30 天）
- **费用**：完全免费
- **限制**：每个域名每周最多申请 5 次（通常不会达到）

---

## 🆘 如果申请失败

### 问题 1：申请失败，提示域名验证失败

**可能原因**：
- 域名解析未完全生效
- 80 端口未开放
- 防火墙阻止了验证请求

**解决方案**：
- 等待几分钟后重试
- 检查 80 端口是否开放
- 检查防火墙设置

---

### 问题 2：找不到 Let's Encrypt 选项

**可能原因**：
- 宝塔面板版本太旧

**解决方案**：
- 更新宝塔面板到最新版本
- 或者在宝塔面板 → 软件商店 → 安装 "Let's Encrypt" 插件

---

## 🎯 现在执行

1. **在宝塔面板申请 Let's Encrypt 证书**：
   - 网站 → `feihub.top` → 设置 → SSL → Let's Encrypt
   - 填写域名和邮箱
   - 点击申请

2. **启用 HTTPS**：
   - 申请成功后，点击 "强制HTTPS"

3. **验证**：
   - 访问 `https://feihub.top`
   - 应该能看到锁图标

完成后告诉我结果，我们完成部署！


