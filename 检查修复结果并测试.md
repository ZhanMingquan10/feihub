# æ£€æŸ¥ä¿®å¤ç»“æœå¹¶æµ‹è¯•

## ğŸ” ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥ä¿®å¤æ˜¯å¦æˆåŠŸ

åœ¨å®å¡”ç»ˆç«¯æ‰§è¡Œï¼š

```bash
cd /www/wwwroot/feihub/backend/src/lib

# æ£€æŸ¥æ˜¯å¦æœ‰å¤‡ä»½æ–‡ä»¶
ls -la feishu-puppeteer.ts*

# æ£€æŸ¥æ˜¯å¦æ·»åŠ äº†æ–°çš„ä»£ç 
grep -n "é¢å¤–ç­‰å¾…ï¼Œç¡®ä¿æ—¥æœŸå…ƒç´ åŠ è½½å®Œæˆ" feishu-puppeteer.ts
grep -n "doc-info-time-item" feishu-puppeteer.ts | head -10
grep -n "æ‰¾åˆ°æ—¥æœŸå…ƒç´ " feishu-puppeteer.ts
grep -n "pageData æå–ç»“æœ" feishu-puppeteer.ts
```

---

## âœ… å¦‚æœä¿®å¤æˆåŠŸ

### 1. é‡æ–°æ„å»ºå’Œéƒ¨ç½²

```bash
cd /www/wwwroot/feihub/backend

# é‡æ–°æ„å»º
npm run build

# æ£€æŸ¥æ„å»ºæ˜¯å¦æˆåŠŸï¼ˆåº”è¯¥æ²¡æœ‰é”™è¯¯ï¼‰
echo "æ„å»ºå®Œæˆï¼Œæ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯..."

# å®Œå…¨é‡å¯ PM2
pm2 stop feihub-backend
pm2 delete feihub-backend
pm2 start npm --name feihub-backend -- run start

# ç­‰å¾…å¯åŠ¨
sleep 5

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
pm2 logs feihub-backend --lines 30 --nostream | grep -E "(å¯åŠ¨|CHROME_PATH|é”™è¯¯)" | tail -10
```

---

## ğŸ§ª ç¬¬äºŒæ­¥ï¼šæµ‹è¯•æ—¥æœŸæå–

1. **æäº¤æµ‹è¯•æ–‡æ¡£**ï¼š
   ```
   https://rxxy4o2wwcf.feishu.cn/docx/QuHYdyjapoaF71xwRqfc8nXrnPc
   ```

2. **æŸ¥çœ‹å®Œæ•´æ—¥å¿—**ï¼š
   ```bash
   pm2 logs feihub-backend --lines 500 --nostream > /tmp/feihub-test-final.txt
   
   # æŸ¥çœ‹æ‰€æœ‰ Puppeteer ç›¸å…³çš„æ—¥å¿—
   cat /tmp/feihub-test-final.txt | grep "Puppeteer" | tail -200
   ```

---

## ğŸ” åº”è¯¥çœ‹åˆ°çš„æ—¥å¿—

ä¿®å¤æˆåŠŸåï¼Œåº”è¯¥èƒ½çœ‹åˆ°ï¼š

```
[Puppeteer] é¢å¤–ç­‰å¾…ï¼Œç¡®ä¿æ—¥æœŸå…ƒç´ åŠ è½½å®Œæˆ...
[Puppeteer] âœ… æ‰¾åˆ°æ—¥æœŸå…ƒç´  .doc-info-time-item
[Puppeteer] ğŸ“… æ—¥æœŸå…ƒç´ å†…å®¹: "2024å¹´1æœˆ9æ—¥ä¿®æ”¹"
[Puppeteer] ğŸ” pageData æå–ç»“æœï¼ˆè¯¦ç»†ï¼‰:
[Puppeteer] - æ ‡é¢˜: "..."
[Puppeteer] - ä½œè€…: "..."
[Puppeteer] - æ—¥æœŸï¼ˆåŸå§‹ï¼Œä» pageDataï¼‰: "2024å¹´1æœˆ9æ—¥ä¿®æ”¹"
[Puppeteer] å‡†å¤‡è§£ææ—¥æœŸ: "2024å¹´1æœˆ9æ—¥ä¿®æ”¹"
[Puppeteer] è§£æåçš„æ—¥æœŸ: "2024-01-09"
[Puppeteer] æå–çš„æ—¥æœŸ: "2024-01-09"
```

---

## âŒ å¦‚æœä¿®å¤å¤±è´¥

è¯·æŠŠä»¥ä¸‹ä¿¡æ¯å‘ç»™æˆ‘ï¼š
1. Python è„šæœ¬çš„æ‰§è¡Œç»“æœï¼ˆæ˜¯å¦æœ‰é”™è¯¯ï¼‰
2. `grep -n "doc-info-time-item" feishu-puppeteer.ts` çš„è¾“å‡º
3. å¦‚æœæœ‰é”™è¯¯ï¼Œé”™è¯¯ä¿¡æ¯æ˜¯ä»€ä¹ˆ

---

è¯·å…ˆæ‰§è¡Œç¬¬ä¸€æ­¥ï¼ŒæŠŠç»“æœå‘ç»™æˆ‘ã€‚

