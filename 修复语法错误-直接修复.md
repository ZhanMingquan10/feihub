# ä¿®å¤è¯­æ³•é”™è¯¯ - ç›´æ¥ä¿®å¤

## ğŸ” é”™è¯¯ä½ç½®

ç¬¬568è¡Œï¼š`continue;` ä¸èƒ½åœ¨å‡½æ•°è¾¹ç•Œå¤–ä½¿ç”¨

## ğŸš€ å¿«é€Ÿä¿®å¤ï¼ˆæ¨èï¼‰

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
cd /www/wwwroot/feihub/backend/src/lib

# æ–¹æ³•1ï¼šä½¿ç”¨ sed ç›´æ¥ä¿®å¤ç¬¬568è¡Œ
sed -i '568s/continue;/return null;/' feishu-puppeteer.ts

# éªŒè¯ä¿®å¤
sed -n '568p' feishu-puppeteer.ts

# é‡æ–°æ„å»º
cd /www/wwwroot/feihub/backend
npm run build && pm2 restart feihub-backend && echo "âœ… ä¿®å¤å®Œæˆï¼"
```

---

## ğŸ“ æ–¹æ³•2ï¼šä½¿ç”¨ Python ç²¾ç¡®ä¿®å¤

å¦‚æœæ–¹æ³•1ä¸è¡Œï¼Œä½¿ç”¨è¿™ä¸ªï¼š

```bash
cd /www/wwwroot/feihub/backend/src/lib

python3 << 'PYEOF'
file_path = 'feishu-puppeteer.ts'

with open(file_path, 'r', encoding='utf-8') as f:
    lines = f.readlines()

# ä¿®å¤ç¬¬568è¡Œï¼ˆç´¢å¼•æ˜¯567ï¼Œå› ä¸ºä»0å¼€å§‹ï¼‰
if len(lines) > 567:
    original_line = lines[567]
    if 'continue;' in original_line:
        lines[567] = original_line.replace('continue;', 'return null;')
        print(f"ä¿®å¤ç¬¬568è¡Œ:")
        print(f"  åŸ: {original_line.strip()}")
        print(f"  æ–°: {lines[567].strip()}")
        
        with open(file_path, 'w', encoding='utf-8') as f:
            f.writelines(lines)
        print("âœ… å·²ä¿®å¤")
    else:
        print("âš ï¸  ç¬¬568è¡Œä¸åŒ…å« continue;")
        print(f"  å†…å®¹: {original_line.strip()}")
else:
    print("âŒ æ–‡ä»¶è¡Œæ•°ä¸è¶³568è¡Œ")
PYEOF

# é‡æ–°æ„å»º
cd /www/wwwroot/feihub/backend
npm run build && pm2 restart feihub-backend
```

---

## ğŸ“ æ–¹æ³•3ï¼šæ‰‹åŠ¨ä¿®å¤

å¦‚æœä¸Šé¢çš„æ–¹æ³•éƒ½ä¸è¡Œï¼Œæ‰‹åŠ¨ä¿®å¤ï¼š

```bash
cd /www/wwwroot/feihub/backend/src/lib

# æŸ¥çœ‹ç¬¬568è¡Œ
sed -n '568p' feishu-puppeteer.ts

# ä½¿ç”¨ nano ç¼–è¾‘
nano feishu-puppeteer.ts
```

æ‰¾åˆ°ç¬¬568è¡Œï¼Œå°†ï¼š
```typescript
if (bodyText && (bodyText.includes('Help Center') || bodyText.includes('Keyboard Shortcuts') || bodyText.length < 100 || (!/[\u4e00-\u9fa5]/.test(bodyText) && bodyText.length < 200))) continue;
```

æ”¹ä¸ºï¼š
```typescript
if (bodyText && (bodyText.includes('Help Center') || bodyText.includes('Keyboard Shortcuts') || bodyText.length < 100 || (!/[\u4e00-\u9fa5]/.test(bodyText) && bodyText.length < 200))) return null;
```

ç„¶åä¿å­˜ï¼ˆCtrl+O, Enter, Ctrl+Xï¼‰

---

**æ¨èä½¿ç”¨æ–¹æ³•1ï¼ˆsed ç›´æ¥ä¿®å¤ï¼‰**ï¼Œæœ€ç®€å•å¿«é€Ÿã€‚

