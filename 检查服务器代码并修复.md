# æ£€æŸ¥æœåŠ¡å™¨ä»£ç å¹¶ä¿®å¤æ—¥æœŸæå–

## ğŸ” ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥æœåŠ¡å™¨ä¸Šçš„å®é™…ä»£ç 

åœ¨å®å¡”ç»ˆç«¯æ‰§è¡Œï¼š

```bash
cd /www/wwwroot/feihub/backend/src/lib

# æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶
ls -la

# æ£€æŸ¥ feishu-puppeteer.ts æ˜¯å¦å­˜åœ¨ï¼Œå¹¶æŸ¥çœ‹æ—¥æœŸæå–éƒ¨åˆ†
cat feishu-puppeteer.ts | grep -A 20 "é¢å¤–ç­‰å¾….*ç¡®ä¿æ—¥æœŸå…ƒç´ " | head -30

# æ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„è°ƒè¯•æ—¥å¿—
cat feishu-puppeteer.ts | grep -E "(é¢å¤–ç­‰å¾…|æ‰¾åˆ°æ—¥æœŸå…ƒç´ |æ—¥æœŸå…ƒç´ å†…å®¹)" | head -10
```

---

## ğŸš€ ç¬¬äºŒæ­¥ï¼šå¦‚æœä»£ç æ²¡æœ‰æ›´æ–°ï¼Œæ‰‹åŠ¨ä¿®å¤

å¦‚æœçœ‹ä¸åˆ°æ–°çš„è°ƒè¯•æ—¥å¿—ï¼Œè¯´æ˜ä»£ç è¿˜æ²¡æœ‰æ›´æ–°ã€‚æ‰§è¡Œï¼š

```bash
cd /www/wwwroot/feihub

# ç¡®ä¿æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–°
git log --oneline -3

# è¿›å…¥åç«¯ç›®å½•
cd backend

# é‡æ–°æ„å»ºï¼ˆé‡è¦ï¼ï¼‰
npm run build

# æ£€æŸ¥æ„å»ºæ˜¯å¦æˆåŠŸ
ls -la dist/lib/feishu-puppeteer.js

# å®Œå…¨é‡å¯ PM2
pm2 stop feihub-backend
pm2 delete feihub-backend
pm2 start npm --name feihub-backend -- run start

# ç­‰å¾…å¯åŠ¨
sleep 5
```

---

## ğŸ§ª ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•å¹¶æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

1. **æäº¤æµ‹è¯•æ–‡æ¡£**ï¼š
   ```
   https://rxxy4o2wwcf.feishu.cn/docx/QuHYdyjapoaF71xwRqfc8nXrnPc
   ```

2. **æŸ¥çœ‹å®Œæ•´æ—¥å¿—**ï¼š
   ```bash
   pm2 logs feihub-backend --lines 500 --nostream > /tmp/feihub-test.txt
   
   # æŸ¥çœ‹æ‰€æœ‰ Puppeteer ç›¸å…³çš„æ—¥å¿—
   cat /tmp/feihub-test.txt | grep "Puppeteer" | tail -200
   ```

---

## ğŸ”§ å¦‚æœè¿˜æ˜¯çœ‹ä¸åˆ°æ–°æ—¥å¿—ï¼Œç›´æ¥ä¿®æ”¹æœåŠ¡å™¨ä¸Šçš„ä»£ç 

å¦‚æœ `git pull` åè¿˜æ˜¯æ²¡æœ‰æ–°ä»£ç ï¼Œè¯´æ˜ GitHub ä¸Šçš„ä»£ç å¯èƒ½ä¹Ÿä¸å®Œæ•´ã€‚æˆ‘ä»¬éœ€è¦ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šä¿®æ”¹ï¼š

```bash
cd /www/wwwroot/feihub/backend/src/lib

# æ£€æŸ¥ feishu-puppeteer.ts æ–‡ä»¶
cat feishu-puppeteer.ts | grep -n "é¢å¤–ç­‰å¾…" | head -5
```

å¦‚æœæ–‡ä»¶å­˜åœ¨ä½†æ²¡æœ‰æ–°ä»£ç ï¼Œè¯·æŠŠæ–‡ä»¶å†…å®¹å‘ç»™æˆ‘ï¼Œæˆ‘ä¼šå¸®ä½ ä¿®å¤ã€‚

---

è¯·å…ˆæ‰§è¡Œç¬¬ä¸€æ­¥ï¼ŒæŠŠç»“æœå‘ç»™æˆ‘ã€‚

