# é‡æ–°æ„å»ºå¹¶éªŒè¯

## ğŸš€ é‡æ–°æ„å»ºå¹¶é‡å¯

åœ¨å®å¡”ç»ˆç«¯æ‰§è¡Œï¼š

```bash
cd /www/wwwroot/feihub/backend

# 1. é‡æ–°æ„å»º
npm run build

# 2. é‡å¯ PM2
pm2 restart feihub-backend

# 3. æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ï¼ˆåŒ…å«ç¯å¢ƒå˜é‡å’Œ Chrome è·¯å¾„ï¼‰
pm2 logs feihub-backend --lines 100 --nostream | grep -E "(å¯åŠ¨|CHROME_PATH|getChromePath|Puppeteer|Using browser)" | tail -30
```

---

## âœ… åº”è¯¥çœ‹åˆ°çš„æ—¥å¿—

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
```
[å¯åŠ¨] ç¯å¢ƒå˜é‡ CHROME_PATH: "/usr/bin/chromium-browser"
[getChromePath] æ£€æŸ¥ç¯å¢ƒå˜é‡ CHROME_PATH: "/usr/bin/chromium-browser"
[getChromePath] âœ… æ‰¾åˆ° Chrome: /usr/bin/chromium-browser
[Puppeteer] Using browser at: /usr/bin/chromium-browser
```

---

## ğŸ†˜ å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°

å¦‚æœæ—¥å¿—æ˜¾ç¤º `CHROME_PATH: "æœªè®¾ç½®"` æˆ– `undefined`ï¼Œå¯èƒ½éœ€è¦ï¼š

1. **æ£€æŸ¥ .env æ–‡ä»¶è·¯å¾„**ï¼š
```bash
cd /www/wwwroot/feihub/backend
pwd
ls -la .env
```

2. **æ‰‹åŠ¨æµ‹è¯•ç¯å¢ƒå˜é‡åŠ è½½**ï¼š
```bash
cd /www/wwwroot/feihub/backend
node -e "require('dotenv').config({ path: require('path').resolve(__dirname, '../.env') }); console.log('CHROME_PATH:', process.env.CHROME_PATH);"
```

3. **æ£€æŸ¥æ–‡ä»¶æƒé™**ï¼š
```bash
ls -la .env
chmod 644 .env
```


